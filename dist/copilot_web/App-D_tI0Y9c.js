const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["copilot_web/workflowChat-BJc2YlNX.js","copilot_web/vendor-markdown-Dek94WS0.js","copilot_web/vendor-react-V04_Axys.js","copilot_web/message-components-CXAbBsyi.js","copilot_web/input.js","copilot_web/assets/input-B6v7buKL.css"].map(path => {
                        const apiBase = window.comfyAPI?.api?.api?.api_base;
                        const prefix = apiBase ? `${apiBase.substring(1)}/` : '';
                        return `${prefix}${path}`;
                    }))))=>i.map(i=>d[i]);
import{_ as x}from"./input.js";import{j as n}from"./vendor-markdown-Dek94WS0.js";import{r as o,R as f}from"./vendor-react-V04_Axys.js";import{C as b}from"./message-components-CXAbBsyi.js";const w=9999999,m={EXPLAIN_NODE:"copilot:explain-node"},E=(window.comfyAPI?.api?.api?.api_base ? `${window.comfyAPI.api.api.api_base.substring(1)}/copilot_web/assets/logo-BTZhX0BN.png` : "/copilot_web/assets/logo-BTZhX0BN.png");function v(t={}){const[d,i]=o.useState({x:t.initialX??window.innerWidth-160,y:t.initialY??20}),[r,a]=o.useState(!1),[s,u]=o.useState({x:0,y:0});return o.useEffect(()=>{const e=g=>{if(r){const p=Math.min(Math.max(0,g.clientX-s.x),window.innerWidth-(t.boundaryPadding?.right??100)),h=Math.min(Math.max(0,g.clientY-s.y),window.innerHeight-(t.boundaryPadding?.bottom??40));i({x:p,y:h})}},l=()=>{a(!1)};return r&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",l)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",l)}},[r,s,t.boundaryPadding]),{position:d,isDragging:r,handleMouseDown:e=>{e.preventDefault(),a(!0);const l=e.currentTarget.getBoundingClientRect();u({x:e.clientX-l.left,y:e.clientY-l.top})}}}const y=f.lazy(()=>x(()=>import("./workflowChat-BJc2YlNX.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.default})));function _(){const t=o.useRef(null),[d,i]=o.useState(!1),[r,a]=o.useState(!1),{position:s,isDragging:u,handleMouseDown:c}=v({boundaryPadding:{right:100,bottom:40}});return o.useEffect(()=>{const e=()=>{i(!0),a(!0)};return window.addEventListener(m.EXPLAIN_NODE,e),()=>window.removeEventListener(m.EXPLAIN_NODE,e)},[]),s?n.jsx(b,{children:n.jsx("div",{ref:t,children:n.jsxs("div",{className:"fixed",style:{zIndex:w,left:s.x,top:s.y,cursor:u?"grabbing":"grab"},children:[n.jsxs("button",{onMouseDown:c,onClick:()=>i(!0),className:"px-2 py-1 border border-gray-300 rounded-md bg-white text-black hover:bg-blue-300 hover:font-bold transition-colors select-none w-40 flex items-center space-x-1",style:{marginLeft:"-40px"},children:[n.jsx("img",{src:E,alt:"ComfyUI-Copilot Logo",className:"h-8 w-8"}),n.jsx("span",{className:"text-[14px] font-medium text-gray-800",children:"ComfyUI-Copilot"})]}),n.jsx(f.Suspense,{fallback:n.jsx("div",{children:"Loading..."}),children:n.jsx(y,{onClose:()=>{i(!1),a(!1)},visible:d,triggerUsage:r,onUsageTriggered:()=>a(!1)})})]})})}):null}const j=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"}));export{j as A,E as l};
