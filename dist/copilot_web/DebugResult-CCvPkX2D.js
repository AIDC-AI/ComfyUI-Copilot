function getImportPath(filename) {
            return `./${filename}`;
        }
            import{j as e}from"./vendor-markdown-CBmlBP6m.js";import{r as p}from"./vendor-react-Dixhfmvb.js";import{B as x,W as h,a as i}from"./message-components-DXmFocDz.js";const m=({checkpointId:s,onRestore:c})=>{const[a,n]=p.useState(!1),o=async()=>{if(!a){n(!0);try{const t=await h.restoreWorkflowCheckpoint(s),l=t.workflow_data_ui||t.workflow_data;l&&(t.workflow_data_ui?i.loadGraphData(l):i.loadApiJson(l),console.log(`Restored workflow checkpoint ${s}`),c())}catch(t){console.error("Failed to restore checkpoint:",t),alert("Failed to restore workflow checkpoint. Please try again.")}finally{n(!1)}}};return e.jsx("button",{onClick:o,disabled:a,className:`p-1 rounded transition-colors ${a?"text-gray-400 cursor-not-allowed":"text-gray-500 hover:text-blue-600 hover:bg-blue-50"}`,title:`Restore checkpoint ${s}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",className:a?"animate-spin":"",children:[e.jsx("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),e.jsx("path",{d:"M8 4.466V2.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 6.658A.25.25 0 0 1 8 6.466z"})]})})};function w({content:s,name:c="Assistant",avatar:a,format:n="markdown"}){let o,t=null;try{if(o=JSON.parse(s),o.ext){const r=o.ext.find(d=>d.type==="debug_checkpoint");r&&r.data&&r.data.checkpoint_id&&(t=r.data.checkpoint_id)}}catch(r){return console.error("Failed to parse DebugResult content:",r),null}const l=r=>n==="markdown"?r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-gray-100 px-1 rounded">$1</code>').replace(/\n/g,"<br/>"):r;return e.jsx(x,{name:c,children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"flex-1 prose prose-sm max-w-none",children:n==="markdown"?e.jsx("div",{className:"text-gray-700 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:l(o.text||"")}}):e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 text-sm leading-relaxed",children:o.text||""})}),t&&e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx(m,{checkpointId:t,onRestore:()=>{console.log("Workflow restored from debug completion checkpoint")}})})]})})})}export{w as DebugResult};
