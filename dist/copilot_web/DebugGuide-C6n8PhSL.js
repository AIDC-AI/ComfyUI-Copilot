function getImportPath(filename) {
            return `./${filename}`;
        }
            import{j as e}from"./vendor-markdown-Mq66gLHN.js";import{r as l}from"./vendor-react-6F4zURhM.js";import{B as g,a as j,W as N,g as d}from"./message-components-I88DBw55.js";import{q as S}from"./queuePrompt-CJTJF3Gl.js";import"./workflowChat-DG7IRBME.js";import"./input.js";/* empty css     */function M({content:x,name:p="Assistant",avatar:k,onAddMessage:i}){const[a,c]=l.useState(!1),[f,m]=l.useState(""),[h,o]=l.useState(!1);let u;try{u=JSON.parse(x)}catch(t){return console.error("Failed to parse message content:",t),null}const w=async()=>{if(!a){c(!0),o(!0),m(`🔍 Starting workflow analysis...
`);try{await b()}finally{c(!1)}}},b=async()=>{try{const t=await j.graphToPrompt();let s="",n=null;for await(const r of N.streamDebugAgent(t))r.text&&(s=r.text,m(s),r.ext&&(n=r.ext));if(o(!1),s){const r={id:d(),role:"ai",content:JSON.stringify({text:s,ext:n||[]}),format:"markdown",name:"Assistant"};i?.(r)}}catch(t){console.error("Error calling debug agent:",t),o(!1);const s=t,n={id:d(),role:"ai",content:JSON.stringify({text:`I encountered an error while analyzing your workflow: ${s.message||"Unknown error"}`,ext:[]}),format:"markdown",name:"Assistant"};i?.(n)}},y=async()=>{const t=await S([]);console.log("Queue result:",t)};return e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx(g,{name:p,children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-gray-700 text-sm",children:u.text}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:y,className:"px-4 py-2 bg-green-500 text-white text-sm rounded-md hover:bg-green-600 transition-colors",children:"Queue Prompt"}),e.jsx("button",{onClick:w,disabled:a,className:`px-4 py-2 text-white text-sm rounded-md transition-colors ${a?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:a?"Analyzing...":"Debug Errors"})]})]})}),h&&e.jsx(g,{name:"Assistant",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 text-sm leading-relaxed",children:f})}),a&&e.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),"Analyzing workflow..."]})]})})]})}export{M as DebugGuide};
